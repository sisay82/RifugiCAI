<div style="display:block;margin-left:4px;background:white">
    <form [formGroup]="ownerSubjectForm">
        <div class="bc-revision-management-title bc-h6">Proprietà</div>
        <div style="display: flex;flex-direction:row">
            <div class="bc-revision-management">
                <bc-text-input placeholder="Proprietario immobile" formControlName="name" title="Ente" [displayError]="displayError"></bc-text-input>
            </div>
            <div class="bc-revision-management">
                <bc-text-input placeholder="Es: 00449700020 (solo numeri)" formControlName="taxCode" title="P.IVA" [displayError]="displayError"></bc-text-input>
            </div>
            <div class="bc-revision-management">
                <bc-text-input placeholder="Es: +39 0522 652347" enableBlock="true" errorMessage="Inserire sono numeri." formControlName="fixedPhone"
                    title="Telefono" [displayError]="displayError"></bc-text-input>
            </div>
        </div>
        <div style="display: flex;flex-direction:row">
            <form [formGroup]="managForm" class="bc-revision-management">
                <bc-text-input placeholder="Nome persona/ufficio riferimento" formControlName="reference" title="Riferimento" [displayError]="displayError"></bc-text-input>
            </form>
            <div class="bc-revision-management">
                <bc-text-input enableBlock="true" errorMessage="Inserire indirizzo email valido." placeholder="Es: proprietario@info.it"
                    formControlName="email" title="Mail" [displayError]="displayError"></bc-text-input>
            </div>
            <div class="bc-revision-management">
                <bc-text-input enableBlock="true" errorMessage="Inserire indirizzo email valido." placeholder="Es: proprietario@pec.it" formControlName="pec"
                    title="PEC" [displayError]="displayError"></bc-text-input>
            </div>
        </div>
        <div style="display: flex;flex-direction:row">
            <div class="bc-revision-management">
                <bc-text-input enableBlock="true" errorMessage="Inserire indirizzo sito web valido." placeholder="Es: www.proprietarioimmobile.it"
                    formControlName="webSite" title="Sito web" [displayError]="displayError"></bc-text-input>
            </div>
            <div class="bc-revision-management">
                <bc-text-input enableBlock="true" errorMessage="Inserire sono numeri." placeholder="Es: 10000" formControlName="contract_fee"
                    title="Canone annuale (€, da contratto)" [displayError]="displayError"></bc-text-input>
            </div>
            <div class="bc-revision-management">
                <bc-text-input enableBlock="true" errorMessage="Inserire date nel formato richiesto." placeholder="Formato: gg/mm/aaaa" formControlName="contract_start_date"
                    title="Data di inizio contratto" [displayError]="displayError"></bc-text-input>
            </div>
        </div>
        <div style="display: flex;flex-direction:row">
            <div class="bc-revision-management">
                <bc-text-input enableBlock="true" errorMessage="Inserire date nel formato richiesto." placeholder="Formato: gg/mm/aaaa" formControlName="contract_end_date"
                    title="Data di fine contratto" [displayError]="displayError"></bc-text-input>
            </div>
            <div class="bc-revision-management">
                <bc-select-input defaultContent="Selezionare tipo possesso" enumName="Possession_Type" formControlName="possession_type" title="Tipo possesso"
                    [displayError]="displayError"></bc-select-input>
            </div>
        </div>
    </form>
    <form [formGroup]="managForm">
        <div style="display: flex;flex-direction:row">
            <bc-checkbox-input formControlName="pickupKey" title="Ritiro chiavi"></bc-checkbox-input>
            <bc-checkbox-input formControlName="self_management" title="Autogestione"></bc-checkbox-input>
        </div>
        <bc-divider></bc-divider>
        <div class="bc-revision-management-title bc-h6">Custodia e/o gestione</div>
        <div *ngFor="let open of getFormControls('subjects');let i = index" formArrayName="subjects">
            <div [formGroupName]="i">
                <div style="display: flex;flex-direction:row;align-items:center">
                    <div class="bc-revision-management">
                        <bc-text-input placeholder="Nome gestore o custode" formControlName="name" title="Nome" [displayError]="displayError"></bc-text-input>
                    </div>
                    <div class="bc-revision-management">
                        <bc-text-input placeholder="Cognome gestore o custode" formControlName="surname" title="Cognome" [displayError]="displayError"></bc-text-input>
                    </div>
                    <div class="bc-revision-management">
                        <bc-text-input placeholder="Es: +39 0522 652347" errorMessage="Inserire sono numeri." enableBlock="true" formControlName="fixedPhone"
                            title="Telefono" [displayError]="displayError"></bc-text-input>
                    </div>
                    <bc-icon (click)="removeSubject(i)" class="bc-revision-management-add-tag" name="times" size=s></bc-icon>
                </div>
                <div style="display: flex;flex-direction:row">
                    <div class="bc-revision-management">
                        <bc-text-input placeholder="Es: +39 335 6745896" errorMessage="Inserire sono numeri." enableBlock="true" formControlName="mobilePhone"
                            title="Cellulare" [displayError]="displayError"></bc-text-input>
                    </div>
                    <div class="bc-revision-management">
                        <bc-text-input enableBlock="true" errorMessage="Inserire indirizzo email valido." placeholder="Es: custode@info.it" formControlName="email"
                            title="Mail" [displayError]="displayError"></bc-text-input>
                    </div>
                    <div class="bc-revision-management">
                        <bc-text-input enableBlock="true" errorMessage="Inserire indirizzo email valido." placeholder="Es: custode@pec.it" formControlName="pec"
                            title="PEC" [displayError]="displayError"></bc-text-input>
                    </div>
                </div>
                <div style="display: flex;flex-direction:row">
                    <div class="bc-revision-management">
                        <bc-text-input enableBlock="true" errorMessage="Inserire indirizzo sito web valido." placeholder="Es: www.gestoreimmobile.it"
                            formControlName="webSite" title="Sito web" [displayError]="displayError"></bc-text-input>
                    </div>
                    <div class="bc-revision-management">
                        <bc-text-input placeholder="Custodia o gestione" formControlName="type" title="Tipo" [displayError]="displayError"></bc-text-input>
                    </div>
                    <div class="bc-revision-management">
                        <bc-text-input placeholder="Es: 00449700020 (solo numeri)" formControlName="taxCode" title="P.IVA" [displayError]="displayError"></bc-text-input>
                    </div>
                </div>
                <div style="display: flex;flex-direction:row">
                    <div class="bc-revision-management">
                        <bc-text-input enableBlock="true" errorMessage="Inserire sono numeri." placeholder="Es: 10000" formControlName="contract_fee"
                            title="Canone annuale (€, da contratto)" [displayError]="displayError"></bc-text-input>
                    </div>
                    <div class="bc-revision-management">
                        <bc-select-input defaultContent="Selezionare tipo possesso" enumName="Possession_Type" formControlName="possession_type"
                            title="Tipo possesso" [displayError]="displayError"></bc-select-input>
                    </div>
                    <div class="bc-revision-management">
                        <bc-text-input enableBlock="true" errorMessage="Inserire date nel formato richiesto." placeholder="Formato: gg/mm/aaaa" formControlName="contract_start_date"
                            title="Data di inizio contratto" [displayError]="displayError"></bc-text-input>
                    </div>
                </div>
                <div style="display: flex;flex-direction:row">
                    <div class="bc-revision-management">
                        <bc-text-input enableBlock="true" errorMessage="Inserire date nel formato richiesto." placeholder="Formato: gg/mm/aaaa" formControlName="contract_end_date"
                            title="Data di fine contratto" [displayError]="displayError"></bc-text-input>
                    </div>
                </div>
            </div>
        </div>
        <bc-divider></bc-divider>
    </form>
</div>
<div (click)="toggleSubject()" class="bc-body bc-revision-management-add-tag" style="white-space:nowrap;flex:1">
    <bc-icon name="plus" size=s></bc-icon>
    Aggiungi custode
</div>
<div *ngIf="!isHiddenSubject()">
    <form [formGroup]="newSubjectForm">
        <div style="display: flex;flex-direction:row;align-items:center">
            <div class="bc-revision-management">
                <bc-text-input placeholder="Nome gestore o custode" formControlName="name" title="Nome" [displayError]="showNewSubjectError"></bc-text-input>
            </div>
            <div class="bc-revision-management">
                <bc-text-input placeholder="Cognome gestore o custode" formControlName="surname" title="Cognome" [displayError]="showNewSubjectError"></bc-text-input>
            </div>
            <div class="bc-revision-management">
                <bc-text-input placeholder="Es: +39 0522 652347" errorMessage="Inserire sono numeri." enableBlock="true" formControlName="fixedPhone"
                    title="Telefono" [displayError]="showNewSubjectError"></bc-text-input>
            </div>
            <bc-icon tooltip="Aggiungi" (click)="addNewSubject()" class="bc-revision-management-add-tag" name="check" size=s></bc-icon>
        </div>
        <div style="display: flex;flex-direction:row">
            <div class="bc-revision-management">
                <bc-text-input placeholder="Es: +39 335 6745896" errorMessage="Inserire sono numeri." enableBlock="true" formControlName="mobilePhone"
                    title="Cellulare" [displayError]="showNewSubjectError"></bc-text-input>
            </div>
            <div class="bc-revision-management">
                <bc-text-input enableBlock="true" errorMessage="Inserire indirizzo email valido." placeholder="Es: custode@info.it" formControlName="email"
                    title="Mail" [displayError]="showNewSubjectError"></bc-text-input>
            </div>
            <div class="bc-revision-management">
                <bc-text-input enableBlock="true" errorMessage="Inserire indirizzo email valido." placeholder="Es: custode@pec.it" formControlName="pec"
                    title="PEC" [displayError]="showNewSubjectError"></bc-text-input>
            </div>
        </div>
        <div style="display: flex;flex-direction:row">
            <div class="bc-revision-management">
                <bc-text-input enableBlock="true" errorMessage="Inserire indirizzo sito web valido." placeholder="Es: www.gestoreimmobile.it"
                    formControlName="webSite" title="Sito web" [displayError]="showNewSubjectError"></bc-text-input>
            </div>
            <div class="bc-revision-management">
                <bc-text-input placeholder="Custodia o gestione" formControlName="type" title="Tipo" [displayError]="showNewSubjectError"></bc-text-input>
            </div>
            <div class="bc-revision-management">
                <bc-text-input placeholder="Es: 00449700020 (solo numeri)" formControlName="taxCode" title="P.IVA" [displayError]="showNewSubjectError"></bc-text-input>
            </div>
        </div>
        <div style="display: flex;flex-direction:row">
            <div class="bc-revision-management">
                <bc-text-input enableBlock="true" errorMessage="Inserire sono numeri." placeholder="Es: 10000" formControlName="contract_fee"
                    title="Canone annuale (€, da contratto)" [displayError]="showNewSubjectError"></bc-text-input>
            </div>
            <div class="bc-revision-management">
                <bc-select-input defaultContent="Selezionare tipo possesso" enumName="Possession_Type" formControlName="possession_type" title="Tipo possesso"
                    [displayError]="showNewSubjectError"></bc-select-input>
            </div>
            <div class="bc-revision-management">
                <bc-text-input enableBlock="true" errorMessage="Inserire date nel formato richiesto." placeholder="Formato: gg/mm/aaaa" formControlName="contract_start_date"
                    title="Data di inizio contratto" [displayError]="showNewSubjectError"></bc-text-input>
            </div>
        </div>
        <div style="display: flex;flex-direction:row">
            <div class="bc-revision-management">
                <bc-text-input enableBlock="true" errorMessage="Inserire date nel formato richiesto." placeholder="Formato: gg/mm/aaaa" formControlName="contract_end_date"
                    title="Data di fine contratto" [displayError]="showNewSubjectError"></bc-text-input>
            </div>
        </div>
    </form>
</div>
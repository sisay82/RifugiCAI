<form [formGroup]="managForm">
    <div style="display:block;margin-left:4px;background:white">
        <div [hidden]="!displayError" class="alert alert-danger">Error Occurred!</div>
        <div class="bc-management-title bc-h6">Propriet√†:</div>
        <div style="display: flex;flex-direction:row">
            <div class="bc-revision-management">
                <div class="bc-body" style="white-space: nowrap">Ente</div>
                <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                    class="form-control"  formControlName="propName">
                <div [hidden]="managForm.controls['propName'].valid" class="alert alert-danger">Invalid</div>
                <br>
            </div>
            <div class="bc-revision-management">
                <div class="bc-body" style="white-space: nowrap">P.IVA</div>
                <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                    class="form-control"  formControlName="propTaxCode">
                <div [hidden]="managForm.controls['propTaxCode'].valid" class="alert alert-danger">Invalid</div>
                <br>
            </div>
            <div class="bc-revision-management">
                <div class="bc-body" style="white-space: nowrap">Telefono</div>
                <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                    class="form-control"  formControlName="propFixedPhone">
                <div [hidden]="managForm.controls['propFixedPhone'].valid" class="alert alert-danger">Invalid</div>
                <br>
            </div>
        </div>
        <div style="display: flex;flex-direction:row">
            <div class="bc-revision-management">
                <div class="bc-body" style="white-space: nowrap">Mail</div>
                <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                    class="form-control"  formControlName="propEmail">
                <div [hidden]="managForm.controls['propEmail'].valid" class="alert alert-danger">Invalid</div>
                <br>
            </div>
            <div class="bc-revision-management">
                <div class="bc-body" style="white-space: nowrap">PEC</div>
                <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                    class="form-control"  formControlName="propPec">
                <div [hidden]="managForm.controls['propPec'].valid" class="alert alert-danger">Invalid</div>
                <br>
            </div>
        </div>
        <bc-divider></bc-divider>
        <div style="display: flex;flex-direction:row">
            <div class="bc-revision-management">
                <div class="bc-body" style="white-space: nowrap">Canone Affitto</div>
                <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                    class="form-control"  formControlName="rent">
                <div [hidden]="managForm.controls['rent'].valid" class="alert alert-danger">Invalid</div>
                <br>
            </div>
            <div class="bc-revision-management">
                <div class="bc-body" style="white-space: nowrap">Tipo Canone</div>
                <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                    class="form-control"  formControlName="period">
                <div [hidden]="managForm.controls['period'].valid" class="alert alert-danger">Invalid</div>
                <br>
            </div>
            <div class="bc-revision-management">
                <div class="bc-body" style="white-space: nowrap">Valuta</div>
                <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                    class="form-control"  formControlName="valuta">
                <div [hidden]="managForm.controls['valuta'].valid" class="alert alert-danger">Invalid</div>
                <br>
            </div>
        </div>
        <div style="display: flex;flex-direction:row">
            <div class="bc-revision-management">
                <div class="bc-body" style="white-space: nowrap">Data di Inizio Contratto</div>
                <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                    class="form-control"  formControlName="contract_start_date">
                <div [hidden]="managForm.controls['contract_start_date'].valid" class="alert alert-danger">Invalid</div>
                <br>
            </div>
            <div class="bc-revision-management">
                <div class="bc-body" style="white-space: nowrap">Data di Fine Contratto</div>
                <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                    class="form-control"  formControlName="contract_end_date">
                <div [hidden]="managForm.controls['contract_end_date'].valid" class="alert alert-danger">Invalid</div>
                <br>
            </div>
            <div class="bc-revision-management">
                <div class="bc-body" style="white-space: nowrap">Durata Contratto</div>
                <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                    class="form-control"  formControlName="contract_duration">
                <div [hidden]="managForm.controls['contract_duration'].valid" class="alert alert-danger">Invalid</div>
                <br>
            </div>
        </div>
        <div style="display: flex;flex-direction:row">
            <div class="bc-revision-management">
                <div class="bc-body" style="white-space: nowrap">Canone Contratto</div>
                <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                    class="form-control"  formControlName="contract_fee">
                <div [hidden]="managForm.controls['contract_fee'].valid" class="alert alert-danger">Invalid</div>
                <br>
            </div>            
            <div class="bc-revision-management">
                <div class="bc-body" style="white-space: nowrap">Tipo di Affitto</div>
                <select style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                    class="form-control" formControlName="rentType">
                    <option [selected]="managForm.controls['rentType'].value==undefined" value="null">-- Tipo Affitto --</option>
                    <option *ngFor="let name of getEnumCustodyNames()" [selected]="checkEnum(name)" [value]="name">{{name}}</option>
                </select>
            </div>
        </div>
        <bc-divider></bc-divider>
        <div class="bc-management-title bc-h6">Custodia</div>
        <div *ngFor="let open of managForm.controls['subjects'].controls;let i = index" formArrayName="subjects">
            <div [formGroupName]="i">
                <div style="display: flex;flex-direction:row;align-items:center">
                    <div class="bc-revision-management">
                        <div class="bc-body" style="white-space: nowrap">Nome</div>
                        <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                            class="form-control" formControlName="name">
                        <div [hidden]="open.controls['name'].valid" class="alert alert-danger">Invalid</div>
                    </div>
                    <div class="bc-revision-management">
                        <div class="bc-body" style="white-space: nowrap">Cognome</div>
                        <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                            class="form-control" formControlName="surname">
                        <div [hidden]="open.controls['surname'].valid" class="alert alert-danger">Invalid</div>
                    </div>
                    <div class="bc-revision-management">
                        <div class="bc-body" style="white-space: nowrap">Tipo</div>
                        <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                            class="form-control" formControlName="type">
                        <div [hidden]="open.controls['type'].valid" class="alert alert-danger">Invalid</div>
                    </div>
                    <bc-icon (click)="removeSubject(i)" class="bc-add-tag" name="times" size=s></bc-icon>
                </div>
                <div style="display: flex;flex-direction:row">
                    <div class="bc-revision-management">
                        <div class="bc-body" style="white-space: nowrap">Telefono Fisso</div>
                        <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                            class="form-control" formControlName="fixedPhone">
                        <div [hidden]="open.controls['fixedPhone'].valid" class="alert alert-danger">Invalid</div>
                    </div>
                    <div class="bc-revision-management">
                        <div class="bc-body" style="white-space: nowrap">Cellulare</div>
                        <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                            class="form-control" formControlName="mobilePhone">
                        <div [hidden]="open.controls['mobilePhone'].valid" class="alert alert-danger">Invalid</div>
                    </div>
                    <div class="bc-revision-management">
                        <div class="bc-body" style="white-space: nowrap">P.IVA</div>
                        <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                            class="form-control" formControlName="taxCode">
                        <div [hidden]="open.controls['taxCode'].valid" class="alert alert-danger">Invalid</div>
                    </div>
                </div>
                <div style="display: flex;flex-direction:row">
                    <div class="bc-revision-management">
                        <div class="bc-body" style="white-space: nowrap">Mail</div>
                        <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                            class="form-control" formControlName="email">
                        <div [hidden]="open.controls['email'].valid" class="alert alert-danger">Invalid</div>
                    </div>
                    <div class="bc-revision-management">
                        <div class="bc-body" style="white-space: nowrap">PEC</div>
                        <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                            class="form-control" formControlName="pec">
                        <div [hidden]="open.controls['pec'].valid" class="alert alert-danger">Invalid</div>
                    </div>
                    <div class="bc-revision-management">
                        <div class="bc-body" style="white-space: nowrap">WebSite</div>
                        <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                            class="form-control" formControlName="webSite">
                        <div [hidden]="open.controls['webSite'].valid" class="alert alert-danger">Invalid</div>
                    </div>
                </div>
            </div>
        </div>
        <br>
        <bc-divider></bc-divider>
    </div>
 </form>
<div (click)="toggleSubject()" class="bc-body bc-add-tag" style="white-space:nowrap;flex:1">
    <bc-icon name="plus" size=s></bc-icon>
    Aggiungi Custode
</div>
<div *ngIf="!isHiddenSubject()">
    <form [formGroup]="newSubjectForm">
        <div style="display: flex;flex-direction:row;align-items:center">
            <div class="bc-revision-management">
                <div class="bc-body" style="white-space: nowrap">Nome</div>
                <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                    class="form-control" formControlName="newName">
            </div>
            <div class="bc-revision-management">
                <div class="bc-body" style="white-space: nowrap">Cognome</div>
                <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                    class="form-control" formControlName="newSurname">
            </div>
            <div class="bc-revision-management">
                <div class="bc-body" style="white-space: nowrap">Tipo</div>
                <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                    class="form-control" formControlName="newType">
            </div>
            <bc-icon (click)="addNewSubject()" class="bc-add-tag" name="check" size=s></bc-icon>
        </div>
        <div style="display: flex;flex-direction:row">
            <div class="bc-revision-management">
                <div class="bc-body" style="white-space: nowrap">Telefono Fisso</div>
                <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                    class="form-control" formControlName="newFixedPhone">
            </div>
            <div class="bc-revision-management">
                <div class="bc-body" style="white-space: nowrap">Cellulare</div>
                <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                    class="form-control" formControlName="newMobilePhone">
            </div>
            <div class="bc-revision-management">
                <div class="bc-body" style="white-space: nowrap">P.IVA</div>
                <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                    class="form-control" formControlName="newTaxCode">
            </div>
        </div>
        <div style="display: flex;flex-direction:row">
            <div class="bc-revision-management">
                <div class="bc-body" style="white-space: nowrap">Mail</div>
                <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                    class="form-control" formControlName="newMail">
            </div>
            <div class="bc-revision-management">
                <div class="bc-body" style="white-space: nowrap">PEC</div>
                <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                    class="form-control" formControlName="newPec">
            </div>
            <div class="bc-revision-management">
                <div class="bc-body" style="white-space: nowrap">WebSite</div>
                <input type="text" style="text-overflow: ellipsis; font-family: FontAwesome; font-style: normal; font-weight: normal; text-decoration: inherit;"
                    class="form-control" formControlName="newWebSite">
            </div>
        </div>
    </form>
</div>